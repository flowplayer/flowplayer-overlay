/*!

   Overlay plugin for Flowplayer HTML5

   Copyright (c) 2016, Flowplayer Oy

   Released under the MIT License: https://opensource.org/licenses/MIT

*/
!function(){var o=flowplayer.common,e=flowplayer.bean;flowplayer(function(e,n){if(e.conf.overlay){e.conf.splash=e.conf.autoplay=!0,o.addClass(n,"is-overlaid"),o.addClass(n,"is-closeable");var a=e.conf.overlay.vendor||"native";if(!flowplayer.overlay[a])throw new Error('Overlay "'+a+'" not implemented');flowplayer.overlay[a](e,n)}}),flowplayer.overlay={},flowplayer.overlay.native=function(n,a){function l(){document.body.appendChild(c),o.addClass(a,"is-open")}function r(){c.parentNode&&document.body.removeChild(c),o.removeClass(a,"is-open")}var d=n.conf.overlay.trigger||n.conf.overlay,c=document.createElement("div");c.className="flowplayer-overlay-mask",c.appendChild(a),e.on(document,"click",d,function(){l(),n.load()}),e.on(document,"keydown",function(o){27===o.keyCode&&n.unload()}),n.on("unload",function(){r()})}}();